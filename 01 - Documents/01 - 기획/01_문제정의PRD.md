# 01_01 · 문제 정의 & PRD – MediGo

> 문제 1 · MVP를 정의하고 성공 기준을 수치화하라

## 1. 문제 정의
- 현재 상황  
  - 병·의원에서 처방전이 발급된 이후, 환자는 직접 약국을 찾아가 줄을 서서 기다려야 함.  
  - 약국 재고를 미리 확인하기 어려워 "갔더니 약이 없음 → 다른 약국으로 이동" 같은 낭비가 잦음.  
  - 처방전 사진/종이를 카톡 등으로 공유하며 비공식적으로 배송을 부탁하는 행위가 발생(보안·법적 리스크).

- 해결해야 할 핵심 문제  
  1) "처방전 → 약 수령"까지의 이동·대기 시간을 줄인다.  
  2) 환자가 직접 약국 재고를 탐색하지 않아도 되게 한다.  
  3) 복약 정보를 이해하기 쉽게 전달해, 집에서도 안전하게 복용하도록 돕는다(후속 스코프).

- 이 문제가 중요한 이유  
  - 고령자·감염성 질환 환자는 외출/대기가 부담스럽고, 2차 감염 위험도 존재.  
  - 밤/주말, 보호자가 없는 상황에서는 약 수령 자체가 어려울 수 있음.  
  - 병원·약국 대기열을 줄이면 전체 의료 시스템 부담이 완화된다.

- 성공 시 기대 효과(정량·정성)  
  - 병원 방문 후 약 수령까지 평균 이동·대기 시간 30분 이상 단축.  
  - "약국을 두 군데 이상 방문했다" 비율 0%에 수렴.  
  - "사용 후 다시 쓰고 싶다(추천 의향)" 응답 80% 이상.

## 2. 페르소나(Persona)
### 2.1 주요 페르소나 A
- 기본 정보  
  - 30대 직장인, 혼자 생활, 가벼운 질환으로 병원 방문이 잦지 않음.  
  - 카카오톡·모바일 뱅킹·배달 앱 사용에 익숙함.
- 목표  
  - 회사나 집 근처에서 처방전을 발급받은 뒤, 추가로 이동하지 않고 약을 받아보고 싶다.  
  - 퇴근 후 늦은 시간에도 약을 수령할 수 있기를 바란다.
- 사용 맥락(언제/어디서/어떻게)  
  - 병원 진료를 마치고 대기실 혹은 집으로 이동 중.  
  - 모바일(스마트폰)에서 알림을 통해 서비스에 진입.
- 주요 과업  
  - 방금 발급된 처방전 내용을 확인한다.  
  - 내가 있는 위치 근처 배달 가능한 약국을 선택한다.  
  - 배달 상태를 지도/타임라인으로 확인한다.
- 제약/한계  
  - 의료/약학 용어에 익숙하지 않기 때문에 UI가 단순해야 한다.  
  - 회사 네트워크/지하철 등에서 간헐적 네트워크 장애가 있을 수 있다.

### 2.2 보조 페르소나 B (선택)
- 기본 정보  
  - 50대 보호자, 부모/아이 약을 대신 챙김.  
  - 스마트폰 사용은 가능하지만 앱 설치/로그인 절차를 번거롭게 느낀다.
- 목표  
  - 가족의 처방전을 간편하게 받아보고, 집에서 약을 대신 수령하고 싶다.
- 사용 맥락  
  - 카카오톡/문자 등으로 병원에서 발송한 안내를 통해 접속.  
  - PC보다 모바일을 선호.
- 주요 과업  
  - 특정 환자의 처방전과 약 목록을 확인.  
  - 배달 도착 시점을 파악해 환자에게 전달.
- 제약/한계  
  - 복잡한 회원가입/인증 절차는 거부감.  
  - 글자 크기/대비가 충분히 커야 함.

## 3. 사용자 시나리오 / 저니
> As a [유저 유형], I want [행동] so that [가치]

### 3.1 핵심 시나리오 1
- 시작 조건  
  - 사용자가 병원에서 진료를 마치고 처방전이 발급됨.  
  - MediGo가 카카오 채널/앱 푸시 등으로 "처방전이 발급되었습니다" 알림을 발송(현재 MVP에서는 잠금화면 알림 UI로 대체).

- 단계별 흐름  
  1) 사용자가 알림을 탭해서 MediGo 화면으로 진입한다.  
  2) 앱 내에서 처방전 이미지/요약 정보를 확인한다.  
  3) "수령 지역 선택하기" 버튼을 눌러 지도/검색 화면으로 이동한다.  
  4) 서울시청 인근(데모 기준) 또는 사용자가 입력한 지역으로 약국을 검색한다.  
  5) 결과 리스트에서 약국을 선택하고, 재고 가능 여부를 확인한다.  
  6) 배달 가능한 약국에서 주문을 생성하면, 지도 상에 라이더 경로 애니메이션과 ETA가 표시된다.  
  7) 약이 도착하면 "배송 완료" 화면과 토스트 메시지가 표시된다.

- 완료 조건(성공 상태)  
  - 사용자가 별도의 전화/검색 없이 한 번에 약국을 선택하고 주문을 완료.  
  - 배달 경로/상태를 시각적으로 이해하고 불안감 없이 기다릴 수 있음.

### 3.2 예외 시나리오 / 실패 흐름
- 케이스 1: 선택한 약국에 재고가 없음  
  - 처리 방식: 모달로 "재고가 부족합니다. 다른 약국을 선택해 주세요." 메시지 표시, 리스트로 돌아감.

- 케이스 2: 백엔드 API 장애/네트워크 끊김  
  - 처리 방식: 토스트에 "오프라인 모드 – 임시 데이터로 표시합니다" 노출, 하드코딩된 약국 리스트로 fallback.

- 케이스 3: 위치 검색 결과 없음  
  - 처리 방식: "일치하는 약국이 없습니다" 메시지와 함께 기본 중심(서울시청 인근)으로 다시 표시.

## 4. 요구사항 분석 목록
### 4.1 기능 요구사항 (Functional)
| ID | 유형(화면/백엔드/배치) | 설명 | 우선순위(MoSCoW) | 비고 |
|----|------------------------|------|------------------|------|
| F-01 | 화면(모바일 UI) | 잠금 화면·홈 화면·앱 진입 화면 구현 | Must | 데모용이지만 실제 플로우 반영 |
| F-02 | 화면(지도/리스트) | 수령 지역 검색, 약국 리스트/지도 표시 | Must | Leaflet 사용 |
| F-03 | 백엔드(API) | `/api/pharmacies` 목록/검색/재고확인 API | Must | SQLite 기반 |
| F-04 | 백엔드(API) | 주문 생성/조회/상태 변경 API | Must | 경로·ETA 포함 |
| F-05 | 화면(배달 현황) | 라이더 애니메이션, 진행 상태·ETA 표시 | Should | 애니메이션은 데모 기준 |
| F-06 | 배포 | 무설치 데스크톱 exe 패키지 | Should | 해커톤 심사용 |
| F-07 | 백엔드(API) | 처방전 파일 업로드 처리 | Could | 현재는 저장만 수행 |
| F-08 | 외부 연동 | 실제 병원/약국 시스템 연동 | Won't | 이후 단계에서 구현 |

### 4.2 비기능 요구사항 (Non-Functional)
| ID | 카테고리(성능/보안/로그/운영) | 설명 | 기준/목표 |
|----|------------------------------|------|----------|
| NF-01 | 성능 | 로컬 단독 실행 시 핵심 API p95 응답 시간 | 500ms 이내 |
| NF-02 | 안정성 | 데모 시 주요 플로우 중단되는 크리티컬 오류 | 0건 |
| NF-03 | 보안 | 민감 정보 노출 금지, 샘플/가명 데이터 사용 | 실제 주민번호·실명 사용 금지 |
| NF-04 | 운영 | exe 실행만으로 동작, 별도 설치/설정 최소화 | "더블클릭 → 바로 실행" 경험 |

## 5. MVP 범위 정의
### 5.1 IN – 이번 스프린트에서 반드시 포함할 것
| 기능 ID | 이름 | 이유(근거) |
|---------|------|------------|
| F-01 | 잠금/홈 화면 UI | 데모 첫인상, 와우 모먼트 핵심 |
| F-02 | 지역 검색 + 약국 리스트 | 핵심 문제(재고 있는 약국 찾기)에 직접 대응 |
| F-03 | 약국 API(목록/검색/재고확인) | 프런트와 연결되는 기본 데이터 소스 |
| F-04 | 주문 API 및 배달 현황 화면 | "약이 오는 것을 보는 경험" 제공 |
| F-06 | 무설치 exe 패키지 | 심사 환경에서 실행 편의성 |

### 5.2 OUT – 이번에는 제외할 것 (로드맵으로 이관)
| 아이템 | 제외 이유 | 언제/어떻게 다룰지 |
|--------|----------|-------------------|
| 실제 결제 연동 | 범위/시간 초과 | 상용화 단계에서 PG 연동과 함께 설계 |
| 실시간 GPS 트래킹 | 데모 목적에 비해 구현 비용 큼 | 지도 SDK/디바이스 권한 확보 후 2단계 |
| 카카오톡 인증/로그인 | 해커톤 데모에서는 필수 아님 | 보안·개인정보 검토 후 정식 서비스에 포함 |

## 6. KPI / 성공 기준
| 지표 | 정의 | 현재 추정치 | 목표치 | 측정 방법/도구 |
|------|------|------------|--------|----------------|
| 첫 플로우 완료율 | 알림 진입 후 배송 완료 화면까지 도달 비율 | 0% | ≥ 80% (데모 참가자 기준) | 로그/관찰 |
| 평균 플로우 소요 시간 | 알림 탭 → 배송 완료까지 경과 시간 | - | 2분 이내 | 리허설 측정 |
| 오류 발생률 | 데모 중 API 5xx 또는 JS 에러 비율 | - | 0건 | 콘솔/로그 확인 |

### 6.1 MVP 성공 조건(최소 기준)
- [ ] 핵심 데모 플로우(알림→약국 선택→배송 완료)가 끊김 없이 3회 연속 성공  
- [ ] 심사위원이 기능을 직접 클릭해도 1회 이상 성공 플로우 경험  
- [ ] 결정적 버그로 인해 재부팅이 필요한 상황 0회

## 7. 경쟁/대체재 분석(요약)
### 7.1 JTBD 관점
- 사용자가 "이 서비스를 통해 해결하려는 일(Job)"  
  - "병원에서 처방전을 받은 뒤, 집으로 바로 돌아와 약을 편하게 받고 싶다."

### 7.2 SWOT / AARRR (필요 시 간략 요약)
- Strength: 명확한 페인포인트(이동·대기 시간), 모바일 친화 UI, 데스크톱/웹 양쪽으로 실행 용이  
- Weakness: 초기에는 실제 병원·약국 시스템과 분리된 데모 수준, 법·규제 검토 미완료  
- Opportunity: 고령화·비대면 진료 확대, 약 배달 규제 완화 시 빠르게 확장 가능  
- Threat: 기존 배달 플랫폼/헬스케어 스타트업의 진입, 약사·의사 단체의 규제 이슈

